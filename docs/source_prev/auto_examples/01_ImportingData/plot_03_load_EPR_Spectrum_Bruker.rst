
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples\01_ImportingData\plot_03_load_EPR_Spectrum_Bruker.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_auto_examples_01_ImportingData_plot_03_load_EPR_Spectrum_Bruker.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_01_ImportingData_plot_03_load_EPR_Spectrum_Bruker.py:


.. _plot_03_load_EPR_Spectrum_Bruker:

======================================
Load EPR spectrum in Bruker EMX format
======================================

In this example we demonstrate how to load and EPR spectrum and process the data.

.. GENERATED FROM PYTHON SOURCE LINES 13-16

Load EPR Data
-------------
First, add SpinLab to the Python environment,

.. GENERATED FROM PYTHON SOURCE LINES 16-19

.. code-block:: Python


    import spinlab as sl








.. GENERATED FROM PYTHON SOURCE LINES 20-21

and then import an EPR spectrum. SpinLab can handle spectra recorded on different spectrometers such as the Bruker ElexSys, the Bruker EMX system, or home-built spectrometers running on Boris Epel's software SpecMan4EPR. In this example we will load a spectrum from a Bruker EMX system.

.. GENERATED FROM PYTHON SOURCE LINES 21-24

.. code-block:: Python


    data = sl.load("../../data/bes3t/1D_CW.DTA")








.. GENERATED FROM PYTHON SOURCE LINES 25-28

Process EPR Data
----------------
In this section, we will demonstrate some basic EPR processing.

.. GENERATED FROM PYTHON SOURCE LINES 30-31

First, let's perform a baseline correction using a zeroth order polynomial to remove a DC offset:

.. GENERATED FROM PYTHON SOURCE LINES 31-33

.. code-block:: Python

    data_proc = sl.remove_background(data, dim="B0")








.. GENERATED FROM PYTHON SOURCE LINES 34-35

Here a new slData object is created containing the corrected data. This is helpful, if the processing for different data sets need to be compared. The remove_background function will calculate a zero order polynomial background and will subtract this value from the data. To plot the corrected spectrum simply use:

.. GENERATED FROM PYTHON SOURCE LINES 35-38

.. code-block:: Python


    sl.fancy_plot(data_proc, xlim=[344, 354], title="EPR Spectrum")




.. image-sg:: /auto_examples/01_ImportingData/images/sphx_glr_plot_03_load_EPR_Spectrum_Bruker_001.png
   :alt: EPR Spectrum
   :srcset: /auto_examples/01_ImportingData/images/sphx_glr_plot_03_load_EPR_Spectrum_Bruker_001.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    [<matplotlib.lines.Line2D object at 0x00000173530AE0D0>]



.. GENERATED FROM PYTHON SOURCE LINES 39-40

The ''fancy_plot'' function is very helpful to create simple plots. For more complicated figures the matplotlib functions can be used. Note, that the plotting functions of the matplotlib package are already loaded into the SpinLab environment.

.. GENERATED FROM PYTHON SOURCE LINES 40-53

.. code-block:: Python


    sl.plt.figure()
    sl.plt.plot(data.coords["B0"], data.values.real, label="No Background Correction")
    sl.plt.plot(
        data_proc.coords["B0"], data_proc.values.real, label="Background Correction"
    )
    sl.plt.xlabel("Magnetic Field (mT)")
    sl.plt.ylabel("EPR Signal Intensity (a.u.)")
    sl.plt.grid(True)
    sl.plt.tight_layout()
    sl.plt.legend()
    sl.plt.show()




.. image-sg:: /auto_examples/01_ImportingData/images/sphx_glr_plot_03_load_EPR_Spectrum_Bruker_002.png
   :alt: plot 03 load EPR Spectrum Bruker
   :srcset: /auto_examples/01_ImportingData/images/sphx_glr_plot_03_load_EPR_Spectrum_Bruker_002.png
   :class: sphx-glr-single-img





.. GENERATED FROM PYTHON SOURCE LINES 54-55

Note the DC offset of about -0.5.

.. GENERATED FROM PYTHON SOURCE LINES 57-60

Show EPR Attributes
-------------------
To show a list of attributes with the EPR spectrum

.. GENERATED FROM PYTHON SOURCE LINES 60-63

.. code-block:: Python


    sl.fancy_plot(data_proc, xlim=[344, 354], title="EPR Spectrum", showPar=True)
    sl.plt.show()



.. image-sg:: /auto_examples/01_ImportingData/images/sphx_glr_plot_03_load_EPR_Spectrum_Bruker_003.png
   :alt: EPR Spectrum
   :srcset: /auto_examples/01_ImportingData/images/sphx_glr_plot_03_load_EPR_Spectrum_Bruker_003.png
   :class: sphx-glr-single-img






.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 0.285 seconds)


.. _sphx_glr_download_auto_examples_01_ImportingData_plot_03_load_EPR_Spectrum_Bruker.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plot_03_load_EPR_Spectrum_Bruker.ipynb <plot_03_load_EPR_Spectrum_Bruker.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_03_load_EPR_Spectrum_Bruker.py <plot_03_load_EPR_Spectrum_Bruker.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: plot_03_load_EPR_Spectrum_Bruker.zip <plot_03_load_EPR_Spectrum_Bruker.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
